!function(e){function n(n){for(var t,r,i=n[0],a=n[1],s=n[2],c=0,d=[];c<i.length;c++)r=i[c],S[r]&&d.push(S[r][0]),S[r]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);for(A&&A(n);d.length;)d.shift()();return O.push.apply(O,s||[]),o()}function o(){for(var e,n=0;n<O.length;n++){for(var o=O[n],t=!0,r=1;r<o.length;r++){var i=o[r];0!==S[i]&&(t=!1)}t&&(O.splice(n--,1),e=D(D.s=o[0]))}return e}var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,n){if(!b[e]||!g[e])return;for(var o in g[e]=!1,n)Object.prototype.hasOwnProperty.call(n,o)&&(h[o]=n[o]);0==--y&&0===w&&P()}(e,n),t&&t(e,n)};var r,i=!0,a="e52f4af89409ec231934",s=1e4,c={},d=[],l=[];var u=[],p="idle";function v(e){p=e;for(var n=0;n<u.length;n++)u[n].call(null,e)}var f,h,m,y=0,w=0,x={},g={},b={};function _(e){return+e+""===e?+e:e}function M(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return i=e,v("check"),function(e){return e=e||1e4,new Promise(function(n,o){if("undefined"==typeof XMLHttpRequest)return o(new Error("No browser support"));try{var t=new XMLHttpRequest,r=D.p+""+a+".hot-update.json";t.open("GET",r,!0),t.timeout=e,t.send(null)}catch(e){return o(e)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)o(new Error("Manifest request to "+r+" timed out."));else if(404===t.status)n();else if(200!==t.status&&304!==t.status)o(new Error("Manifest request to "+r+" failed."));else{try{var e=JSON.parse(t.responseText)}catch(e){return void o(e)}n(e)}}})}(s).then(function(e){if(!e)return v("idle"),null;g={},x={},b=e.c,m=e.h,v("prepare");var n=new Promise(function(e,n){f={resolve:e,reject:n}});for(var o in h={},S)j(o);return"prepare"===p&&0===w&&0===y&&P(),n})}function j(e){b[e]?(g[e]=!0,y++,function(e){var n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.charset="utf-8",o.src=D.p+""+e+"."+a+".hot-update.js",n.appendChild(o)}(e)):x[e]=!0}function P(){v("ready");var e=f;if(f=null,e)if(i)Promise.resolve().then(function(){return z(i)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&n.push(_(o));e.resolve(n)}}function z(n){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var o,t,r,i,s;function l(e){for(var n=[e],o={},t=n.slice().map(function(e){return{chain:[e],id:e}});t.length>0;){var r=t.pop(),a=r.id,s=r.chain;if((i=C[a])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(i.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var c=0;c<i.parents.length;c++){var d=i.parents[c],l=C[d];if(l){if(l.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([d]),moduleId:a,parentId:d};-1===n.indexOf(d)&&(l.hot._acceptedDependencies[a]?(o[d]||(o[d]=[]),u(o[d],[a])):(delete o[d],n.push(d),t.push({chain:s.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:o}}function u(e,n){for(var o=0;o<n.length;o++){var t=n[o];-1===e.indexOf(t)&&e.push(t)}}n=n||{};var f={},y=[],w={},x=function(){console.warn("[HMR] unexpected require("+M.moduleId+") to disposed module")};for(var g in h)if(Object.prototype.hasOwnProperty.call(h,g)){var M;s=_(g);var j=!1,P=!1,z=!1,O="";switch((M=h[g]?l(s):{type:"disposed",moduleId:g}).chain&&(O="\nUpdate propagation: "+M.chain.join(" -> ")),M.type){case"self-declined":n.onDeclined&&n.onDeclined(M),n.ignoreDeclined||(j=new Error("Aborted because of self decline: "+M.moduleId+O));break;case"declined":n.onDeclined&&n.onDeclined(M),n.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+M.moduleId+" in "+M.parentId+O));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(M),n.ignoreUnaccepted||(j=new Error("Aborted because "+s+" is not accepted"+O));break;case"accepted":n.onAccepted&&n.onAccepted(M),P=!0;break;case"disposed":n.onDisposed&&n.onDisposed(M),z=!0;break;default:throw new Error("Unexception type "+M.type)}if(j)return v("abort"),Promise.reject(j);if(P)for(s in w[s]=h[s],u(y,M.outdatedModules),M.outdatedDependencies)Object.prototype.hasOwnProperty.call(M.outdatedDependencies,s)&&(f[s]||(f[s]=[]),u(f[s],M.outdatedDependencies[s]));z&&(u(y,[M.moduleId]),w[s]=x)}var I,B=[];for(t=0;t<y.length;t++)s=y[t],C[s]&&C[s].hot._selfAccepted&&B.push({module:s,errorHandler:C[s].hot._selfAccepted});v("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete S[e]}(e)});for(var k,A,E=y.slice();E.length>0;)if(s=E.pop(),i=C[s]){var N={},G=i.hot._disposeHandlers;for(r=0;r<G.length;r++)(o=G[r])(N);for(c[s]=N,i.hot.active=!1,delete C[s],delete f[s],r=0;r<i.children.length;r++){var L=C[i.children[r]];L&&((I=L.parents.indexOf(s))>=0&&L.parents.splice(I,1))}}for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(i=C[s]))for(A=f[s],r=0;r<A.length;r++)k=A[r],(I=i.children.indexOf(k))>=0&&i.children.splice(I,1);for(s in v("apply"),a=m,w)Object.prototype.hasOwnProperty.call(w,s)&&(e[s]=w[s]);var H=null;for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(i=C[s])){A=f[s];var F=[];for(t=0;t<A.length;t++)if(k=A[t],o=i.hot._acceptedDependencies[k]){if(-1!==F.indexOf(o))continue;F.push(o)}for(t=0;t<F.length;t++){o=F[t];try{o(A)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:s,dependencyId:A[t],error:e}),n.ignoreErrored||H||(H=e)}}}for(t=0;t<B.length;t++){var V=B[t];s=V.module,d=[s];try{D(s)}catch(e){if("function"==typeof V.errorHandler)try{V.errorHandler(e)}catch(o){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:o,originalError:e}),n.ignoreErrored||H||(H=o),H||(H=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:s,error:e}),n.ignoreErrored||H||(H=e)}}return H?(v("fail"),Promise.reject(H)):(v("idle"),new Promise(function(e){e(y)}))}var C={},S={0:0},O=[];function D(n){if(C[n])return C[n].exports;var o=C[n]={i:n,l:!1,exports:{},hot:function(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,o){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._acceptedDependencies[e[t]]=o||function(){};else n._acceptedDependencies[e]=o||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var o=0;o<e.length;o++)n._declinedDependencies[e[o]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var o=n._disposeHandlers.indexOf(e);o>=0&&n._disposeHandlers.splice(o,1)},check:M,apply:z,status:function(e){if(!e)return p;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var n=u.indexOf(e);n>=0&&u.splice(n,1)},data:c[e]};return r=void 0,n}(n),parents:(l=d,d=[],l),children:[]};return e[n].call(o.exports,o,o.exports,function(e){var n=C[e];if(!n)return D;var o=function(o){return n.hot.active?(C[o]?-1===C[o].parents.indexOf(e)&&C[o].parents.push(e):(d=[e],r=o),-1===n.children.indexOf(o)&&n.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),d=[]),D(o)},t=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(n){D[e]=n}}};for(var i in D)Object.prototype.hasOwnProperty.call(D,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(o,i,t(i));return o.e=function(e){return"ready"===p&&v("prepare"),w++,D.e(e).then(n,function(e){throw n(),e});function n(){w--,"prepare"===p&&(x[e]||j(e),0===w&&0===y&&P())}},o.t=function(e,n){return 1&n&&(e=o(e)),D.t(e,-2&n)},o}(n)),o.l=!0,o.exports}D.m=e,D.c=C,D.d=function(e,n,o){D.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(e,n){if(1&n&&(e=D(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(D.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)D.d(o,t,function(n){return e[n]}.bind(null,t));return o},D.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(n,"a",n),n},D.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},D.p="/rest-your-mind/",D.h=function(){return a};var I=window.webpackJsonp=window.webpackJsonp||[],B=I.push.bind(I);I.push=n,I=I.slice();for(var k=0;k<I.length;k++)n(I[k]);var A=B;O.push([0,1]),o()}({"./assets/sounds/amazingu.wav":function(e,n,o){e.exports=o.p+"assets/sounds/amazingu.wav"},"./assets/sounds/bgm.wav":function(e,n,o){e.exports=o.p+"assets/sounds/bgm.wav"},"./assets/sounds/munyu_basic.wav":function(e,n,o){e.exports=o.p+"assets/sounds/munyu_basic.wav"},"./js/Block.js":function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=new t.PointLight(16515040,1.5),n=void 0,r=new t.SphereGeometry(50,30,30),i=new t.MeshBasicMaterial({color:16515040,transparent:!0,blending:t.AdditiveBlending,side:t.DoubleSide,opacity:.7}),a=new t.ShaderMaterial({uniforms:{rimColor:{type:"c",value:new t.Color(16515040)}},vertexShader:o("./shaders/glow.vert"),fragmentShader:o("./shaders/glow.frag"),transparent:!0,blending:t.AdditiveBlending,depthWrite:!1});i.color.multiplyScalar(1.5);var s=new t.Mesh(r,a);e.add(s);var c=new t.CanvasTexture(function(){var e=document.createElement("canvas");e.width=128,e.height=128;var n=e.getContext("2d");return n.fillStyle="white",n.fillRect(0,100,128,28),e}());c.magFilter=t.NearestFilter,c.wrapT=t.RepeatWrapping,c.wrapS=t.RepeatWrapping,c.repeat.set(1,5);var d=new t.SphereGeometry(100,30,30);this.outerSphereMat=new t.ShaderMaterial({uniforms:{rimColor:{type:"c",value:new t.Color(1775651)},height:{type:"f",value:.5},time:{type:"f",value:0}},vertexShader:o("./shaders/shell.vert"),fragmentShader:o("./shaders/shell.frag")});var l=new t.Mesh(d,this.outerSphereMat);l.castShadow=!0,l.receiveShadow=!0,e.add(l);var u=new t.PointsMaterial({color:16777215,size:5,transparent:!0,blending:t.AdditiveBlending,map:function(){var e=document.createElement("canvas");e.width=16,e.height=16;var n=e.getContext("2d"),o=n.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(.2,"rgba(0,255,255,1)"),o.addColorStop(.4,"rgba(0,0,64,1)"),o.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=o,n.fillRect(0,0,e.width,e.height);var r=new t.Texture(e);return r.needsUpdate=!0,r}(),depthWrite:!1});new t.Points(d,u);this.getBlock=function(){return e},this.update=function(){n=Date.now()/1e3%12e4,this.outerSphereMat.uniforms.time.value=n}};var t=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n}(o("./node_modules/three/build/three.module.js"))},"./js/Munyu.js":function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=new t.Object3D,n=(new t.Vector3(0,200,500),new t.SphereGeometry(.7,10,10)),o=new t.MeshBasicMaterial({color:4472892,side:t.DoubleSide,flatShading:!0}),c=new t.Mesh(n,o),d=new t.Mesh(n,o),l=[new t.Vector3(-1,0,0),new t.Vector3(0,.3,.5),new t.Vector3(1,0,0)],u=new t.CatmullRomCurve3(l),p=new t.TubeGeometry(u,20,.3,5),v=new t.Mesh(p,o);c.position.set(2.5,0,3.7),d.position.set(-2.5,0,3.7),v.position.set(0,0,5),v.rotation.z=Math.PI,e.add(c),e.add(d),e.add(v);var f=new t.SphereGeometry(7,10,20),h=new t.MeshBasicMaterial({color:15722979,side:t.DoubleSide,flatShading:!0}),m=new t.Mesh(f,h);m.position.y=-5;var y=new t.SphereGeometry(1.5,10,10),w=(new t.MeshBasicMaterial({color:16775901,side:t.DoubleSide,flatShading:!0,transparent:!0,opacity:.7}),new t.ShaderMaterial({uniforms:{rimColor:{type:"c",value:new t.Color(16775901)}},vertexShader:s.default,fragmentShader:a.default,transparent:!0,blending:t.AdditiveBlending})),x=new t.Mesh(y,w);x.position.set(0,8,0);var g=new t.CylinderGeometry(5,7,15,20,20),b=new t.MeshBasicMaterial({color:12804689,skinning:!0}),_=new t.SkinnedMesh(g,b),M=[],j=new t.Bone,P=new t.Bone,z=new t.Bone,C=new t.Bone,S=new t.Bone,O=new t.Bone;j.add(P),P.add(z),z.add(C),C.add(S),S.add(O),M.push(j),M.push(P),M.push(z),M.push(C),M.push(S),M.push(O),j.position.y=-10,P.position.y=7,z.position.y=5,C.position.y=5,S.position.y=5,O.position.y=3,O.add(m),O.add(c),O.add(d),O.add(x),O.add(v);for(var D=0;D<g.vertices.length;D++){var I=G(30,M.length,g.vertices,D),B=L(30,M.length,g.vertices,D);g.skinIndices.push(new t.Vector4(I,I+1,0,0)),g.skinWeights.push(new t.Vector4(1-B,B,0,0))}var k=new t.Skeleton(M);_.add(j),_.position.y=-10;var A=new t.CircleGeometry(9,20),E=new t.MeshBasicMaterial({color:8297939,side:t.DoubleSide,blending:t.MultiplyBlending}),N=new t.Mesh(A,E);function G(e,n,o,t){return Math.floor((o[t].y+e/2)/e*(n-1))}function L(e,n,o,t){return(o[t].y+e/2)/e*(n-1)-Math.floor((o[t].y+e/2)/e*(n-1))}N.rotation.set(Math.PI/2,0,0),N.position.set(0,-5,0),P.add(N),_.add(j),_.bind(k);this.getMunyu=function(e,n,o,r){return _.position.set(e,n,o),_.material.color=new t.Color(r),_},this.setMunyuState=function(e){return e},this.idle=function(e){var n=Date.now()*e,o=Math.sin(n)/8;M[0].rotation.y=Math.PI*o/4,M[1].rotation.z=Math.PI*o/4,M[2].rotation.z=Math.PI*o/2,M[3].rotation.z=Math.PI*o/4,M[4].rotation.z=Math.PI*o/8,M[5].rotation.z=Math.PI*o/8;var r=new t.Vector3(m.position.x,m.position.y+15,m.position.z);x.position.lerp(r,e),x.rotation.x=Math.PI*o*4,x.rotation.y=Math.PI*o*4,x.rotation.z=Math.PI*o*4},this.move=function(e,n){var o=Date.now()*n;Math.cos(o);_.position.lerp(e,n),console.log("move")},this.setCameraPos=function(e){e};var H=new t.AudioLoader,F=new t.AudioListener,V=new t.Audio(F),R=new t.Audio(F);this.getListener=function(){return H.load(r.default,function(e){V.setBuffer(e),V.setLoop(!1),V.setVolume(1)}),H.load(i.default,function(e){R.setBuffer(e),R.setLoop(!1),R.setVolume(1)}),F},this.playMunyu=function(){V.isPlaying&&V.stop(),V.play()},this.playAmazingu=function(){R.isPlaying&&R.stop(),R.play()}};var t=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n}(o("./node_modules/three/build/three.module.js")),r=c(o("./assets/sounds/munyu_basic.wav")),i=c(o("./assets/sounds/amazingu.wav")),a=c(o("./shaders/glow.frag")),s=c(o("./shaders/glow.vert"));function c(e){return e&&e.__esModule?e:{default:e}}},"./js/Scene.js":function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=new t.Clock,o=window.innerHeight,c=window.innerWidth,l=(function(){var e=new t.AmbientLight(3355443,.5),n=new t.DirectionalLight(16774614,1),o=[];o.push(e),o.push(n)}(),new t.Scene),u=function(){var n=new t.WebGLRenderer({canvas:e,alpha:!0,antialias:!0});return n.setPixelRatio(window.devicePixelRatio?window.devicePixelRatio:1),n.setSize(c,o),n.gammaInput=!0,n.gammaOutput=!0,n.shadowMap.enabled=!0,n.shadowMap.type=t.BasicShadowMap,n}(),p=function(){var e=c/o,n=new t.PerspectiveCamera(60,e,1,1e4);return n.position.set(0,200,500),n.lookAt(new t.Vector3),n}(),v=(function(){var e=new d(p,u.domElement);e.target=new t.Vector3(0,15,0),e.maxDistance=1e3}(),(0,a.default)()),f=(new t.CameraHelper(p),new t.AudioListener),h=(new t.AudioLoader,new t.Audio(f),p.position),m=(new s.default).getGround(),y=new r.default,w=y.getBlock(),x=new i.default,g=x.instantiate(),b=x.getPos(),_=x.getSpeed(),M=x.getColor();x.targetPos();this.start=function(){console.log("start"),l.add(v),l.add(w),w.position.set(0,100,0),l.add(m),function(){for(var e=0;e<g.length;e++)l.add(g[e].getMunyu(b[e].x,b[e].y,b[e].z,M[e]))}()},this.update=function(){n.getElapsedTime();h=p.position;for(var e=0;e<g.length;e++)g[e].idle(_[e]),g[e].setCameraPos(h);y.update(),u.render(l,p)},this.onWindowResize=function(){o=window.innerHeight,c=window.innerWidth,e.innerWidth=c,e.innerHeight=o,p.aspect=c/o,p.updateProjectionMatrix(),u.setSize(c,o)},this.onMouseClick=function(){}};var t=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n}(o("./node_modules/three/build/three.module.js")),r=c(o("./js/Block.js")),i=c(o("./js/munyuGenerator.js")),a=c(o("./js/background.js")),s=(c(o("./assets/sounds/bgm.wav")),c(o("./js/environment.js")));function c(e){return e&&e.__esModule?e:{default:e}}var d=o("./node_modules/three-orbit-controls/index.js")(t)},"./js/background.js":function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=new t.Object3D,n=new t.Mesh(new t.BoxGeometry(1e4,1e4,1e4),new t.ShaderMaterial({uniforms:{uColorA:{value:new t.Color(4942756)},uColorB:{value:new t.Color(794166)}},vertexShader:r.default,fragmentShader:i.default,side:t.BackSide}));return e.add(n),e};var t=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n}(o("./node_modules/three/build/three.module.js")),r=a(o("./shaders/gradient.vert")),i=a(o("./shaders/gradient.frag"));function a(e){return e&&e.__esModule?e:{default:e}}},"./js/environment.js":function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=new t.CircleGeometry(1e3,50),n=new t.MeshBasicMaterial({color:5474011,side:t.DoubleSide,transparent:!0,opacity:.5}),o=new t.Mesh(e,n);o.rotation.set(Math.PI/2,0,0),o.position.set(0,-7,0),this.getGround=function(){return o}};var t=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n}(o("./node_modules/three/build/three.module.js"))},"./js/index.js":function(e,n,o){"use strict";o("./style.scss");var t=function(e){return e&&e.__esModule?e:{default:e}}(o("./js/Scene.js"));e.hot.accept(),e.hot.dispose(function(){var e=document.querySelector("body"),n=e.cloneNode(!1);e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)});var r=document.createElement("canvas");r.id="canvas",document.getElementById("root").appendChild(r);var i=new t.default(r);function a(){r.style.width=window.innerWidth,r.style.height=window.innerHeight,i.onWindowResize()}function s(){i.onMouseClick()}window.onresize=a,window.onclick=s,a(),i.start(),function e(){requestAnimationFrame(e);i.update()}()},"./js/munyuGenerator.js":function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=[],n=[],o=[],i=[],a=30,s=new t.Geometry,c=[12804689,12698449,5358494,5265604,10965188,8438864];function d(){for(var e=null,o=0;o<a;o++){for(var t=Math.floor(Math.random()*s.vertices.length-1+1);t===e;)t=Math.floor(Math.random()*s.vertices.length-1+1);n[o]=s.vertices[t],e=t}return n}(function(){for(var e={height:500,width:500,heightSeg:50,widthSeg:50,color:"black"},n=new t.LineBasicMaterial({color:e.color}),o=new t.Object3D,r=new t.Geometry,i=2*e.width/e.widthSeg,a=2*e.height/e.heightSeg,c=-e.width;c<=e.width;c+=i)r.vertices.push(new t.Vector3(-e.height,c,0)),r.vertices.push(new t.Vector3(e.height,c,0));for(var d=-e.height;d<=e.height;d+=a)r.vertices.push(new t.Vector3(d,-e.width,0)),r.vertices.push(new t.Vector3(d,e.width,0));var l=new t.LineSegments(r,n);o.add(l),o.rotation.x=Math.PI/2;for(var u=-e.width;u<=e.width;u+=i)for(var p=-e.height;p<=e.height;p+=a)s.vertices.push(new t.Vector3(u,0,p))})(),d(),this.instantiate=function(){for(var n=0,t=0;t<a;t++){var s=new r.default;e.push(s),o.push(.005*Math.random()+.001),n>=c.length-1&&(n=0),i.push(c[n]),n++}return e},this.getPos=function(){return n},this.targetPos=function(){var e=d();return e},this.getSpeed=function(){return o},this.getColor=function(){return i}};var t=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n}(o("./node_modules/three/build/three.module.js")),r=function(e){return e&&e.__esModule?e:{default:e}}(o("./js/Munyu.js"))},"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./style.scss":function(e,n,o){(e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"html {\n  font-family: 'Source Sans Pro', sans-serif; }\n\nbody {\n  margin: 0; }\n\n#root {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\np {\n  margin: 1.2em; }\n",""])},"./shaders/glow.frag":function(e,n){e.exports="#define GLSLIFY 1\nuniform vec3 rimColor;\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\n\nvoid main() {\n    // gl_FragColor = vec4(normalize(viewNormal) * 0.5 + 0.5, 1.0);\n    // gl_FragColor = vec4(normalize(viewPos) * 0.5 + 0.5, 1.0);\n    float rim = clamp(dot(normalize(viewNormal), normalize(-viewPos)), 0.0, 1.0);\n    rim = pow(rim, 3.0);\n    // rim = 1.0 - rim;\n    // vec3 color = mix(mainColor, rimColor, rim);\n    gl_FragColor = vec4(rimColor, rim);\n    // gl_FragColor = vec4(glow, 1.0);\n}\n"},"./shaders/glow.vert":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\n\nvoid main()\n{\n    vec4 viewPosition = modelViewMatrix * vec4( position, 1.0 );\n    viewPos = viewPosition.xyz;\n    vec3 vNormal = normalize(normalMatrix * normal);\n    viewNormal = vNormal;\n    gl_Position = projectionMatrix * viewPosition;\n}"},"./shaders/gradient.frag":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 localPosition;\nuniform vec3 uColorA;\nuniform vec3 uColorB;\n\nvoid main() {\n    gl_FragColor = vec4(\n        mix(uColorA, uColorB, clamp(normalize(localPosition).y * 0.5 + 0.5, 0., 1.)),\n        // vec3(fract(normalize(localPosition).y * 0.5 + 0.5)),\n        1.\n    );\n}"},"./shaders/gradient.vert":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 localPosition;\n\nvoid main() {\n    localPosition = position;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}"},"./shaders/shell.frag":function(e,n){e.exports="#define GLSLIFY 1\nuniform vec3 rimColor;\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\nvarying vec3 worldNormal;\nvarying vec3 worldPos;\nvarying vec3 objectPos;\n\nuniform float height;\nuniform float time;\n\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  { \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nvoid main() {\n    // gl_FragColor = vec4(normalize(viewNormal) * 0.5 + 0.5, 1.0);\n    // gl_FragColor = vec4(normalize(viewPos) * 0.5 + 0.5, 1.0);\n    // if (objectPos.y > height) discard;\n    // float noise = snoise(vec3(objectPos.xz * 0.02, time * 0.3));\n    // noise = noise * 0.5 + 0.5;\n    // gl_FragColor = vec4(noise, noise, noise, 1.0);\n    // return;\n    float rim = clamp(dot(normalize(viewNormal), normalize(-viewPos)), 0.0, 1.0);\n    rim = pow(rim, 3.0);\n    float light = clamp(dot(normalize(vec3(0.0, 1.0, 0.0)), worldNormal), 0.0, 1.0);\n    vec3 ambient = vec3(0.2, 0.0, 0.2);\n    // rim = 1.0 - rim;\n    // vec3 color = mix(mainColor, rimColor, rim);\n    gl_FragColor = vec4(rimColor * light + ambient, 0.9);\n    // gl_FragColor = vec4(rimColor, 1.0);\n    // gl_FragColor = vec4(glow, 1.0);\n}\n"},"./shaders/shell.vert":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\nvarying vec3 worldNormal;\nvarying vec3 worldPos;\nvarying vec3 objectPos;\n\nuniform float height;\nuniform float time;\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  { \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nvoid main()\n{\n    vec3 pos = position;\n    objectPos = position;\n    float h = height + 10.0 * snoise(vec3(pos.xz * 0.02, time * 0.3));\n    pos.y = min(pos.y, h);\n    worldPos = (modelMatrix * vec4(pos, 1.0)).xyz;\n    vec4 viewPosition = modelViewMatrix * vec4( pos, 1.0 );\n    viewPos = viewPosition.xyz;\n    worldNormal = normalize(mat3(modelMatrix) * normal);\n    vec3 vNormal = normalize(normalMatrix * normal);\n    viewNormal = vNormal;\n    gl_Position = projectionMatrix * viewPosition;\n}"},"./style.scss":function(e,n,o){var t=o("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./style.scss");"string"==typeof t&&(t=[[e.i,t,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=o("./node_modules/style-loader/lib/addStyles.js")(t,r);t.locals&&(e.exports=t.locals),e.hot.accept("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./style.scss",function(){var n=o("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./style.scss");if("string"==typeof n&&(n=[[e.i,n,""]]),!function(e,n){var o,t=0;for(o in e){if(!n||e[o]!==n[o])return!1;t++}for(o in n)t--;return 0===t}(t.locals,n.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(n)}),e.hot.dispose(function(){i()})},0:function(e,n,o){e.exports=o("./js/index.js")}});
//# sourceMappingURL=bundle.js.map