!function(e){function n(n){for(var r,o,i=n[0],a=n[1],s=n[2],l=0,c=[];l<i.length;l++)o=i[l],j[o]&&c.push(j[o][0]),j[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(I&&I(n);c.length;)c.shift()();return T.push.apply(T,s||[]),t()}function t(){for(var e,n=0;n<T.length;n++){for(var t=T[n],r=!0,o=1;o<t.length;o++){var i=t[o];0!==j[i]&&(r=!1)}r&&(T.splice(n--,1),e=R(R.s=t[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,n){if(!S[e]||!g[e])return;for(var t in g[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(h[t]=n[t]);0==--y&&0===x&&_()}(e,n),r&&r(e,n)};var o,i=!0,a="f99129b80817c18b4f27",s=1e4,l={},c=[],d=[];var u=[],p="idle";function v(e){p=e;for(var n=0;n<u.length;n++)u[n].call(null,e)}var f,h,m,y=0,x=0,w={},g={},S={};function P(e){return+e+""===e?+e:e}function b(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return i=e,v("check"),function(e){return e=e||1e4,new Promise(function(n,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var r=new XMLHttpRequest,o=R.p+""+a+".hot-update.json";r.open("GET",o,!0),r.timeout=e,r.send(null)}catch(e){return t(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)t(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)n();else if(200!==r.status&&304!==r.status)t(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(r.responseText)}catch(e){return void t(e)}n(e)}}})}(s).then(function(e){if(!e)return v("idle"),null;g={},w={},S=e.c,m=e.h,v("prepare");var n=new Promise(function(e,n){f={resolve:e,reject:n}});for(var t in h={},j)C(t);return"prepare"===p&&0===x&&0===y&&_(),n})}function C(e){S[e]?(g[e]=!0,y++,function(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.charset="utf-8",t.src=R.p+""+e+"."+a+".hot-update.js",n.appendChild(t)}(e)):w[e]=!0}function _(){v("ready");var e=f;if(f=null,e)if(i)Promise.resolve().then(function(){return M(i)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in h)Object.prototype.hasOwnProperty.call(h,t)&&n.push(P(t));e.resolve(n)}}function M(n){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var t,r,o,i,s;function d(e){for(var n=[e],t={},r=n.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),a=o.id,s=o.chain;if((i=z[a])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(i.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var l=0;l<i.parents.length;l++){var c=i.parents[l],d=z[c];if(d){if(d.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([c]),moduleId:a,parentId:c};-1===n.indexOf(c)&&(d.hot._acceptedDependencies[a]?(t[c]||(t[c]=[]),u(t[c],[a])):(delete t[c],n.push(c),r.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function u(e,n){for(var t=0;t<n.length;t++){var r=n[t];-1===e.indexOf(r)&&e.push(r)}}n=n||{};var f={},y=[],x={},w=function(){console.warn("[HMR] unexpected require("+b.moduleId+") to disposed module")};for(var g in h)if(Object.prototype.hasOwnProperty.call(h,g)){var b;s=P(g);var C=!1,_=!1,M=!1,T="";switch((b=h[g]?d(s):{type:"disposed",moduleId:g}).chain&&(T="\nUpdate propagation: "+b.chain.join(" -> ")),b.type){case"self-declined":n.onDeclined&&n.onDeclined(b),n.ignoreDeclined||(C=new Error("Aborted because of self decline: "+b.moduleId+T));break;case"declined":n.onDeclined&&n.onDeclined(b),n.ignoreDeclined||(C=new Error("Aborted because of declined dependency: "+b.moduleId+" in "+b.parentId+T));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(b),n.ignoreUnaccepted||(C=new Error("Aborted because "+s+" is not accepted"+T));break;case"accepted":n.onAccepted&&n.onAccepted(b),_=!0;break;case"disposed":n.onDisposed&&n.onDisposed(b),M=!0;break;default:throw new Error("Unexception type "+b.type)}if(C)return v("abort"),Promise.reject(C);if(_)for(s in x[s]=h[s],u(y,b.outdatedModules),b.outdatedDependencies)Object.prototype.hasOwnProperty.call(b.outdatedDependencies,s)&&(f[s]||(f[s]=[]),u(f[s],b.outdatedDependencies[s]));M&&(u(y,[b.moduleId]),x[s]=w)}var A,O=[];for(r=0;r<y.length;r++)s=y[r],z[s]&&z[s].hot._selfAccepted&&O.push({module:s,errorHandler:z[s].hot._selfAccepted});v("dispose"),Object.keys(S).forEach(function(e){!1===S[e]&&function(e){delete j[e]}(e)});for(var L,I,E=y.slice();E.length>0;)if(s=E.pop(),i=z[s]){var N={},D=i.hot._disposeHandlers;for(o=0;o<D.length;o++)(t=D[o])(N);for(l[s]=N,i.hot.active=!1,delete z[s],delete f[s],o=0;o<i.children.length;o++){var U=z[i.children[o]];U&&((A=U.parents.indexOf(s))>=0&&U.parents.splice(A,1))}}for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(i=z[s]))for(I=f[s],o=0;o<I.length;o++)L=I[o],(A=i.children.indexOf(L))>=0&&i.children.splice(A,1);for(s in v("apply"),a=m,x)Object.prototype.hasOwnProperty.call(x,s)&&(e[s]=x[s]);var G=null;for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(i=z[s])){I=f[s];var V=[];for(r=0;r<I.length;r++)if(L=I[r],t=i.hot._acceptedDependencies[L]){if(-1!==V.indexOf(t))continue;V.push(t)}for(r=0;r<V.length;r++){t=V[r];try{t(I)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:s,dependencyId:I[r],error:e}),n.ignoreErrored||G||(G=e)}}}for(r=0;r<O.length;r++){var B=O[r];s=B.module,c=[s];try{R(s)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:t,originalError:e}),n.ignoreErrored||G||(G=t),G||(G=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:s,error:e}),n.ignoreErrored||G||(G=e)}}return G?(v("fail"),Promise.reject(G)):(v("idle"),new Promise(function(e){e(y)}))}var z={},j={0:0},T=[];function R(n){if(z[n])return z[n].exports;var t=z[n]={i:n,l:!1,exports:{},hot:function(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:b,apply:M,status:function(e){if(!e)return p;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var n=u.indexOf(e);n>=0&&u.splice(n,1)},data:l[e]};return o=void 0,n}(n),parents:(d=c,c=[],d),children:[]};return e[n].call(t.exports,t,t.exports,function(e){var n=z[e];if(!n)return R;var t=function(t){return n.hot.active?(z[t]?-1===z[t].parents.indexOf(e)&&z[t].parents.push(e):(c=[e],o=t),-1===n.children.indexOf(t)&&n.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),c=[]),R(t)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return R[e]},set:function(n){R[e]=n}}};for(var i in R)Object.prototype.hasOwnProperty.call(R,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(t,i,r(i));return t.e=function(e){return"ready"===p&&v("prepare"),x++,R.e(e).then(n,function(e){throw n(),e});function n(){x--,"prepare"===p&&(w[e]||C(e),0===x&&0===y&&_())}},t.t=function(e,n){return 1&n&&(e=t(e)),R.t(e,-2&n)},t}(n)),t.l=!0,t.exports}R.m=e,R.c=z,R.d=function(e,n,t){R.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},R.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},R.t=function(e,n){if(1&n&&(e=R(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(R.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)R.d(t,r,function(n){return e[n]}.bind(null,r));return t},R.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return R.d(n,"a",n),n},R.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},R.p="/rest-your-mind/",R.h=function(){return a};var A=window.webpackJsonp=window.webpackJsonp||[],O=A.push.bind(A);A.push=n,A=A.slice();for(var L=0;L<A.length;L++)n(A[L]);var I=O;T.push([0,1]),t()}({"./assets/particle2.png":function(e,n,t){e.exports=t.p+"assets/particle2.png"},"./assets/particleS2.png":function(e,n,t){e.exports=t.p+"assets/particleS2.png"},"./assets/perlin-512.png":function(e,n,t){e.exports=t.p+"assets/perlin-512.png"},"./assets/sounds/amazingu.wav":function(e,n,t){e.exports=t.p+"assets/sounds/amazingu.wav"},"./assets/sounds/bgm.wav":function(e,n,t){e.exports=t.p+"assets/sounds/bgm.wav"},"./assets/sounds/munyu_basic.wav":function(e,n,t){e.exports=t.p+"assets/sounds/munyu_basic.wav"},"./js/Block.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=new r.PointLight(16515040,1.5),n=void 0,o=new r.SphereGeometry(50,30,30),i=new r.MeshBasicMaterial({color:16515040,transparent:!0,blending:r.AdditiveBlending,side:r.DoubleSide,opacity:.7}),a=new r.ShaderMaterial({uniforms:{rimColor:{type:"c",value:new r.Color(16515040)}},vertexShader:t("./shaders/glow.vert"),fragmentShader:t("./shaders/glow.frag"),transparent:!0,blending:r.AdditiveBlending,depthWrite:!1});i.color.multiplyScalar(1.5);var s=new r.Mesh(o,a);e.add(s);var l=new r.CanvasTexture(function(){var e=document.createElement("canvas");e.width=128,e.height=128;var n=e.getContext("2d");return n.fillStyle="white",n.fillRect(0,100,128,28),e}());l.magFilter=r.NearestFilter,l.wrapT=r.RepeatWrapping,l.wrapS=r.RepeatWrapping,l.repeat.set(1,5);var c=new r.SphereGeometry(100,30,30);this.outerSphereMat=new r.ShaderMaterial({uniforms:{color:{type:"c",value:new r.Color(6737083)},height:{type:"f",value:.5},time:{type:"f",value:0}},vertexShader:t("./shaders/shell.vert"),fragmentShader:t("./shaders/shell.frag")});var d=new r.Mesh(c,this.outerSphereMat);d.castShadow=!0,d.receiveShadow=!0,e.add(d);var u=new r.PointsMaterial({color:16777215,size:5,transparent:!0,blending:r.AdditiveBlending,map:function(){var e=document.createElement("canvas");e.width=16,e.height=16;var n=e.getContext("2d"),t=n.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(.2,"rgba(0,255,255,1)"),t.addColorStop(.4,"rgba(0,0,64,1)"),t.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=t,n.fillRect(0,0,e.width,e.height);var o=new r.Texture(e);return o.needsUpdate=!0,o}(),depthWrite:!1});new r.Points(c,u);this.getBlock=function(){return e},this.update=function(){n=Date.now()/1e3%12e4,this.outerSphereMat.uniforms.time.value=n}};var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/three/build/three.module.js"))},"./js/Concern.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=void 0,n=new r.Object3D,o=new r.SphereGeometry(95,50,50);this.softConcernMat=new r.ShaderMaterial({uniforms:{color:{type:"c",value:new r.Color(16515040)},rimColor:{type:"c",value:new r.Color(5593699)},scale:{type:"f",value:10},freq:{type:"f",value:1.5},time:{type:"f",value:0},rimPower:{type:"f",value:3}},vertexShader:t("./shaders/clouds.vert"),fragmentShader:t("./shaders/clouds.frag"),transparent:!0,blending:r.AdditiveBlending,depthWrite:!1});new r.Mesh(o,this.softConcernMat);var i=new r.SphereGeometry(85,30,20);this.angledConcernMat=new r.ShaderMaterial({uniforms:{color:{type:"c",value:new r.Color(16515040)},rimColor:{type:"c",value:new r.Color(5593699)},scale:{type:"f",value:10},freq:{type:"f",value:10},time:{type:"f",value:0},rimPower:{type:"f",value:2}},vertexShader:t("./shaders/clouds.vert"),fragmentShader:t("./shaders/clouds.frag"),transparent:!0,blending:r.AdditiveBlending,depthWrite:!1});var a=new r.Mesh(i,this.angledConcernMat);n.add(a);var s=new r.SphereGeometry(50,30,30);this.concernMatLayer=new r.ShaderMaterial({uniforms:{color:{type:"c",value:new r.Color(10067199)},rimColor:{type:"c",value:new r.Color(16515040)},scale:{type:"f",value:0},time:{type:"f",value:0},rimPower:{type:"f",value:10}},vertexShader:t("./shaders/clouds.vert"),fragmentShader:t("./shaders/clouds.frag"),transparent:!0,blending:r.AdditiveBlending,depthWrite:!1});var l=new r.Mesh(s,this.concernMatLayer);n.add(l);new r.SphereGeometry(110,80,80);this.concernMatLayer2=new r.ShaderMaterial({uniforms:{color:{type:"c",value:new r.Color(1580067)},rimColor:{type:"c",value:new r.Color(1580067)},scale:{type:"f",value:0},time:{type:"f",value:0},rimPower:{type:"f",value:.5}},vertexShader:t("./shaders/clouds.vert"),fragmentShader:t("./shaders/clouds.frag"),transparent:!0,blending:r.MultiplyBlending,depthWrite:!1}),this.getConcern=function(){return n},this.update=function(){e=Date.now()/1e3%12e4,this.softConcernMat.uniforms.time.value=e,this.angledConcernMat.uniforms.time.value=e,this.concernMatLayer.uniforms.time.value=e,this.concernMatLayer.uniforms.scale.value=1e-4*e}};var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/three/build/three.module.js"))},"./js/GPUParticleSystem.js":function(e,n,t){"use strict";var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/three/build/three.module.js"));r.GPUParticleSystem=function(e){var n=this;e=e||{},n.PARTICLE_COUNT=e.maxParticles||1e6,n.PARTICLE_CONTAINERS=e.containerCount||1,n.PARTICLE_NOISE_TEXTURE=e.particleNoiseTex||null,n.PARTICLE_SPRITE_TEXTURE=e.particleSpriteTex||null,n.PARTICLES_PER_CONTAINER=Math.ceil(n.PARTICLE_COUNT/n.PARTICLE_CONTAINERS),n.PARTICLE_CURSOR=0,n.time=0;var o={vertexShader:["precision highp float;","const vec4 bitSh = vec4(256. * 256. * 256., 256. * 256., 256., 1.);","const vec4 bitMsk = vec4(0.,vec3(1./256.0));","const vec4 bitShifts = vec4(1.) / bitSh;","#define FLOAT_MAX\t1.70141184e38","#define FLOAT_MIN\t1.17549435e-38","lowp vec4 encode_float(highp float v) {","highp float av = abs(v);","//Handle special cases","if(av < FLOAT_MIN) {","return vec4(0.0, 0.0, 0.0, 0.0);","} else if(v > FLOAT_MAX) {","return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;","} else if(v < -FLOAT_MAX) {","return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;","}","highp vec4 c = vec4(0,0,0,0);","//Compute exponent and mantissa","highp float e = floor(log2(av));","highp float m = av * pow(2.0, -e) - 1.0;","c[1] = floor(128.0 * m);","m -= c[1] / 128.0;","c[2] = floor(32768.0 * m);","m -= c[2] / 32768.0;","c[3] = floor(8388608.0 * m);","//Unpack exponent","highp float ebias = e + 127.0;","c[0] = floor(ebias / 2.0);","ebias -= c[0] * 2.0;","c[1] += floor(ebias) * 128.0;","//Unpack sign bit","c[0] += 128.0 * step(0.0, -v);","//Scale back to range","return c / 255.0;","}","vec4 pack(const in float depth)","{","const vec4 bit_shift = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);","const vec4 bit_mask\t= vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);","vec4 res = mod(depth*bit_shift*vec4(255), vec4(256))/vec4(255);","res -= res.xxyz * bit_mask;","return res;","}","float unpack(const in vec4 rgba_depth)","{","const vec4 bit_shift = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);","float depth = dot(rgba_depth, bit_shift);","return depth;","}","uniform float uTime;","uniform float uScale;","uniform sampler2D tNoise;","attribute vec4 particlePositionsStartTime;","attribute vec4 particleVelColSizeLife;","attribute vec3 particleVelocity;","attribute float particleTurbulence;","varying vec4 vColor;","varying float lifeLeft;","void main() {","// unpack things from our attributes","vColor = encode_float( particleVelColSizeLife.y );","// convert our velocity back into a value we can use","vec3 velocity = particleVelocity;","float turbulence = particleTurbulence;","vec3 newPosition;","float timeElapsed = uTime - particlePositionsStartTime.a;","lifeLeft = 1. - (timeElapsed / particleVelColSizeLife.w);","gl_PointSize = ( uScale * particleVelColSizeLife.z ) * lifeLeft;","newPosition = particlePositionsStartTime.xyz + ( velocity * 10. ) * ( uTime - particlePositionsStartTime.a );","vec3 noise = texture2D( tNoise, vec2( newPosition.x * .015 + (uTime * .05), newPosition.y * .02 + (uTime * .015) )).rgb;","vec3 noiseVel = ( noise.rgb - .5 ) * 30.;","newPosition = mix(newPosition, newPosition + vec3(noiseVel * ( turbulence * 5. ) ), (timeElapsed / particleVelColSizeLife.a) );","if( velocity.y > 0. && velocity.y < .05 ) {","lifeLeft = 0.;","}","if( velocity.x < -1.45 ) {","lifeLeft = 0.;","}","if( timeElapsed > 0. ) {","gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );","} else {","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","lifeLeft = 0.;","gl_PointSize = 0.;","}","}"].join("\n"),fragmentShader:["float scaleLinear(float value, vec2 valueDomain) {","return (value - valueDomain.x) / (valueDomain.y - valueDomain.x);","}","float scaleLinear(float value, vec2 valueDomain, vec2 valueRange) {","return mix(valueRange.x, valueRange.y, scaleLinear(value, valueDomain));","}","varying vec4 vColor;","varying float lifeLeft;","uniform sampler2D tSprite;","void main() {","float alpha = 0.;","if( lifeLeft > .995 ) {","alpha = scaleLinear( lifeLeft, vec2(1., .995), vec2(0., 1.));//mix( 0., 1., ( lifeLeft - .95 ) * 100. ) * .75;","} else {","alpha = lifeLeft * .75;","}","vec4 tex = texture2D( tSprite, gl_PointCoord );","gl_FragColor = vec4( vColor.rgb * tex.a, alpha * tex.a );","}"].join("\n")};n.rand=[];for(var i=1e5;i>0;i--)n.rand.push(Math.random()-.5);n.random=function(){return++i>=n.rand.length?n.rand[i=1]:n.rand[i]};var a=new r.TextureLoader,s=t("./assets/perlin-512.png"),l=t("./assets/particle2.png");t("./assets/particleS2.png");n.particleNoiseTex=n.PARTICLE_NOISE_TEXTURE||a.load(s),n.particleNoiseTex.wrapS=n.particleNoiseTex.wrapT=r.RepeatWrapping,n.particleSpriteTex=n.PARTICLE_SPRITE_TEXTURE||a.load(l),n.particleSpriteTex.wrapS=n.particleSpriteTex.wrapT=r.RepeatWrapping,n.particleShaderMat=new r.ShaderMaterial({transparent:!0,depthWrite:!1,uniforms:{uTime:{value:0},uScale:{value:1},tNoise:{value:n.particleNoiseTex},tSprite:{value:n.particleSpriteTex}},blending:r.AdditiveBlending,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader}),n.particleShaderMat.defaultAttributeValues.particlePositionsStartTime=[0,0,0,0],n.particleShaderMat.defaultAttributeValues.particleVelColSizeLife=[0,0,0,0],n.particleContainers=[],r.Object3D.apply(this,arguments),this.init=function(){for(var e=0;e<n.PARTICLE_CONTAINERS;e++){var t=new r.GPUParticleContainer(n.PARTICLES_PER_CONTAINER,n);n.particleContainers.push(t),n.add(t)}},this.spawnParticle=function(e){n.PARTICLE_CURSOR++,n.PARTICLE_CURSOR>=n.PARTICLE_COUNT&&(n.PARTICLE_CURSOR=1),n.particleContainers[Math.floor(n.PARTICLE_CURSOR/n.PARTICLES_PER_CONTAINER)].spawnParticle(e)},this.update=function(e){for(var t=0;t<n.PARTICLE_CONTAINERS;t++)n.particleContainers[t].update(e)},this.init()},r.GPUParticleSystem.prototype=Object.create(r.Object3D.prototype),r.GPUParticleSystem.prototype.constructor=r.GPUParticleSystem,r.GPUParticleContainer=function(e,n){var t=this;t.PARTICLE_COUNT=e||1e5,t.PARTICLE_CURSOR=0,t.time=0,t.DPR=window.devicePixelRatio,t.GPUParticleSystem=n;Math.floor(t.PARTICLE_COUNT/t.MAX_ATTRIBUTES);r.Object3D.apply(this,arguments);var o=new Uint8Array(4),i=new Float32Array(o.buffer);function a(e,n,t,r){return o[0]=Math.floor(r),o[1]=Math.floor(t),o[2]=Math.floor(n),o[3]=Math.floor(e),i[0]}t.particles=[],t.deadParticles=[],t.particlesAvailableSlot=[],t.particleUpdate=!1,t.particleShaderGeo=new r.BufferGeometry,t.particleVertices=new Float32Array(3*t.PARTICLE_COUNT),t.particlePositionsStartTime=new Float32Array(4*t.PARTICLE_COUNT),t.particleVelocity=new Float32Array(3*t.PARTICLE_COUNT),t.particleTurbulence=new Float32Array(t.PARTICLE_COUNT),t.particleVelColSizeLife=new Float32Array(4*t.PARTICLE_COUNT);for(var s=0;s<t.PARTICLE_COUNT;s++)t.particlePositionsStartTime[4*s+0]=100,t.particlePositionsStartTime[4*s+1]=0,t.particlePositionsStartTime[4*s+2]=0,t.particlePositionsStartTime[4*s+3]=0,t.particleVertices[3*s+0]=0,t.particleVertices[3*s+1]=0,t.particleVertices[3*s+2]=0,t.particleVelColSizeLife[4*s+0]=a(128,128,0,0),t.particleVelColSizeLife[4*s+1]=a(0,254,0,254),t.particleVelColSizeLife[4*s+2]=1,t.particleVelColSizeLife[4*s+3]=0;t.particleShaderGeo.addAttribute("position",new r.BufferAttribute(t.particleVertices,3)),t.particleShaderGeo.addAttribute("particlePositionsStartTime",new r.BufferAttribute(t.particlePositionsStartTime,4).setDynamic(!0)),t.particleShaderGeo.addAttribute("particleVelColSizeLife",new r.BufferAttribute(t.particleVelColSizeLife,4).setDynamic(!0)),t.particleShaderGeo.addAttribute("particleVelocity",new r.BufferAttribute(t.particleVelocity,3).setDynamic(!0)),t.particleShaderGeo.addAttribute("particleTurbulence",new r.BufferAttribute(t.particleTurbulence,1).setDynamic(!0)),t.posStart=t.particleShaderGeo.getAttribute("particlePositionsStartTime"),t.velCol=t.particleShaderGeo.getAttribute("particleVelColSizeLife"),t.velocityAttr=t.particleShaderGeo.getAttribute("particleVelocity"),t.turbulenceAttr=t.particleShaderGeo.getAttribute("particleTurbulence"),t.particleShaderMat=t.GPUParticleSystem.particleShaderMat,this.init=function(){t.particleSystem=new r.Points(t.particleShaderGeo,t.particleShaderMat),t.particleSystem.frustumCulled=!1,this.add(t.particleSystem)};var l=new r.Vector3,c=new r.Vector3,d=0,u=0,p=16777215,v=0,f=.5,h=0,m=0,y=0,x=!1;this.offset=0,this.count=0,this.spawnParticle=function(e){l=void 0!==(e=e||{}).position?l.copy(e.position):l.set(0,0,0),c=void 0!==e.velocity?c.copy(e.velocity):c.set(0,0,0),d=void 0!==e.positionRandomness?e.positionRandomness:0,u=void 0!==e.velocityRandomness?e.velocityRandomness:0,p=void 0!==e.color?e.color:16777215,v=void 0!==e.colorRandomness?e.colorRandomness:1,f=void 0!==e.turbulence?e.turbulence:1,h=void 0!==e.lifetime?e.lifetime:5,m=void 0!==e.size?e.size:10,y=void 0!==e.sizeRandomness?e.sizeRandomness:0,x=void 0!==e.smoothPosition&&e.smoothPosition,void 0!==t.DPR&&(m*=t.DPR),s=t.PARTICLE_CURSOR,t.posStart.array[4*s+0]=l.x+n.random()*d,t.posStart.array[4*s+1]=l.y+n.random()*d,t.posStart.array[4*s+2]=l.z+n.random()*d,t.posStart.array[4*s+3]=t.time+.02*n.random(),!0===x&&(t.posStart.array[4*s+0]+=-c.x*n.random(),t.posStart.array[4*s+1]+=-c.y*n.random(),t.posStart.array[4*s+2]+=-c.z*n.random());var r=c.x+n.random()*u,o=c.y+n.random()*u,i=c.z+n.random()*u;t.turbulenceAttr.array[s]=f,t.velocityAttr.array[3*s+0]=r,t.velocityAttr.array[3*s+1]=o,t.velocityAttr.array[3*s+2]=i;for(var w=function(e){var n=e>>16,t=(65280&e)>>8,r=255&e;return n>0&&n--,t>0&&t--,r>0&&r--,[n,t,r]}(p),g=0;g<w.length;g++)w[g]=Math.floor(w[g]+n.random()*v*254),w[g]>254&&(w[g]=254),w[g]<0&&(w[g]=0);t.velCol.array[4*s+1]=a(w[0],w[1],w[2],254),t.velCol.array[4*s+2]=m+n.random()*y,t.velCol.array[4*s+3]=h,0==this.offset&&(this.offset=t.PARTICLE_CURSOR),t.count++,t.PARTICLE_CURSOR++,t.PARTICLE_CURSOR>=t.PARTICLE_COUNT&&(t.PARTICLE_CURSOR=0),t.particleUpdate=!0},this.update=function(e){t.time=e,t.particleShaderMat.uniforms.uTime.value=e,this.geometryUpdate()},this.geometryUpdate=function(){1==t.particleUpdate&&(t.particleUpdate=!1,t.offset+t.count<t.PARTICLE_COUNT?(t.posStart.updateRange.offset=t.velCol.updateRange.offset=4*t.offset,t.posStart.updateRange.count=t.velCol.updateRange.count=4*t.count):(t.posStart.updateRange.offset=0,t.posStart.updateRange.count=t.velCol.updateRange.count=4*t.PARTICLE_COUNT),t.posStart.needsUpdate=!0,t.velCol.needsUpdate=!0,t.velocityAttr.needsUpdate=!0,t.turbulenceAttr.needsUpdate=!0,t.offset=0,t.count=0)},this.init()},r.GPUParticleContainer.prototype=Object.create(r.Object3D.prototype),r.GPUParticleContainer.prototype.constructor=r.GPUParticleContainer,e.exports=r.GPUParticleSystem},"./js/Munyu.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=new r.Object3D,n=(new r.Vector3(0,200,500),new r.SphereGeometry(.7,10,10)),t=new r.MeshBasicMaterial({color:4472892,side:r.DoubleSide,flatShading:!0}),l=new r.Mesh(n,t),c=new r.Mesh(n,t),d=[new r.Vector3(-1,0,0),new r.Vector3(0,.3,.5),new r.Vector3(1,0,0)],u=new r.CatmullRomCurve3(d),p=new r.TubeGeometry(u,20,.3,5),v=new r.Mesh(p,t);l.position.set(2.5,0,3.7),c.position.set(-2.5,0,3.7),v.position.set(0,0,5),v.rotation.z=Math.PI,e.add(l),e.add(c),e.add(v);var f=new r.SphereGeometry(7,10,20),h=new r.MeshBasicMaterial({color:15722979,side:r.DoubleSide,flatShading:!0}),m=new r.Mesh(f,h);m.position.y=-5;var y=new r.SphereGeometry(1.5,10,10),x=(new r.MeshBasicMaterial({color:16775901,side:r.DoubleSide,flatShading:!0,transparent:!0,opacity:.7}),new r.ShaderMaterial({uniforms:{rimColor:{type:"c",value:new r.Color(16775901)}},vertexShader:s.default,fragmentShader:a.default,transparent:!0,blending:r.AdditiveBlending})),w=new r.Mesh(y,x);w.position.set(0,8,0);var g=new r.CylinderGeometry(5,7,15,20,20),S=new r.MeshBasicMaterial({color:12804689,skinning:!0}),P=new r.SkinnedMesh(g,S),b=[],C=new r.Bone,_=new r.Bone,M=new r.Bone,z=new r.Bone,j=new r.Bone,T=new r.Bone;C.add(_),_.add(M),M.add(z),z.add(j),j.add(T),b.push(C),b.push(_),b.push(M),b.push(z),b.push(j),b.push(T),C.position.y=-10,_.position.y=7,M.position.y=5,z.position.y=5,j.position.y=5,T.position.y=3,T.add(m),T.add(l),T.add(c),T.add(w),T.add(v);for(var R=0;R<g.vertices.length;R++){var A=D(30,b.length,g.vertices,R),O=U(30,b.length,g.vertices,R);g.skinIndices.push(new r.Vector4(A,A+1,0,0)),g.skinWeights.push(new r.Vector4(1-O,O,0,0))}var L=new r.Skeleton(b);P.add(C),P.position.y=-10;var I=new r.CircleGeometry(9,20),E=new r.MeshBasicMaterial({color:8297939,side:r.DoubleSide,blending:r.MultiplyBlending}),N=new r.Mesh(I,E);function D(e,n,t,r){return Math.floor((t[r].y+e/2)/e*(n-1))}function U(e,n,t,r){return(t[r].y+e/2)/e*(n-1)-Math.floor((t[r].y+e/2)/e*(n-1))}N.rotation.set(Math.PI/2,0,0),N.position.set(0,-5,0),_.add(N),P.add(C),P.bind(L);this.getMunyu=function(e,n,t,o){return P.position.set(e,n,t),P.material.color=new r.Color(o),P},this.setMunyuState=function(e){return e},this.idle=function(e){var n=Date.now()*e,t=Math.sin(n)/8;b[0].rotation.y=Math.PI*t/4,b[1].rotation.z=Math.PI*t/4,b[2].rotation.z=Math.PI*t/2,b[3].rotation.z=Math.PI*t/4,b[4].rotation.z=Math.PI*t/8,b[5].rotation.z=Math.PI*t/8;var o=new r.Vector3(m.position.x,m.position.y+15,m.position.z);w.position.lerp(o,e),w.rotation.x=Math.PI*t*4,w.rotation.y=Math.PI*t*4,w.rotation.z=Math.PI*t*4},this.move=function(e,n){var t=Date.now()*n;Math.cos(t);P.position.lerp(e,n),console.log("move")},this.setCameraPos=function(e){e};var G=new r.AudioLoader,V=new r.AudioListener,B=new r.Audio(V),k=new r.Audio(V);this.getListener=function(){return G.load(o.default,function(e){B.setBuffer(e),B.setLoop(!1),B.setVolume(1)}),G.load(i.default,function(e){k.setBuffer(e),k.setLoop(!1),k.setVolume(1)}),V},this.playMunyu=function(){B.isPlaying&&B.stop(),B.play()},this.playAmazingu=function(){k.isPlaying&&k.stop(),k.play()}};var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/three/build/three.module.js")),o=l(t("./assets/sounds/munyu_basic.wav")),i=l(t("./assets/sounds/amazingu.wav")),a=l(t("./shaders/glow.frag")),s=l(t("./shaders/glow.vert"));function l(e){return e&&e.__esModule?e:{default:e}}},"./js/ParticleGenerator.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=0,n=new r.Clock(!0),t=void 0,o=void 0;this.particleSystem=new r.GPUParticleSystem({maxParticles:5e4});t={position:new r.Vector3,positionRandomness:.1,velocity:new r.Vector3,velocityRandomness:.15,color:11176191,colorRandomness:.2,turbulence:0,lifetime:3,size:7,sizeRandomness:5},o={spawnRate:.1,horizontalSpeed:.5,verticalSpeed:0,timeScale:1};var i=[1165053,16759288,10525183];function a(e,n){return Math.floor(Math.random()*(n-e+1)+e)}this.update=function(){var r=n.getDelta()*o.timeScale;if((e+=r)<0&&(e=0),r>0)for(var s in i){var l=i[s];t.color=l,t.position.x=a(-1e3,1e3),t.position.y=a(0,1e3),t.position.z=a(-1e3,1e3);for(var c=0;c<o.spawnRate*r;c++)this.particleSystem.spawnParticle(t)}this.particleSystem.update(e)}};var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/three/build/three.module.js"));r.GPUParticleSystem=t("./js/GPUParticleSystem.js")},"./js/Scene.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){new r.Clock;var n=window.innerHeight,t=window.innerWidth,d=(function(){var e=new r.AmbientLight(3355443,.5),n=new r.DirectionalLight(16774614,1),t=[];t.push(e),t.push(n)}(),new r.Scene),p=function(){var o=new r.WebGLRenderer({canvas:e,alpha:!0,antialias:!0});return o.setPixelRatio(window.devicePixelRatio?window.devicePixelRatio:1),o.setSize(t,n),o.gammaInput=!0,o.gammaOutput=!0,o.shadowMap.enabled=!0,o.shadowMap.type=r.BasicShadowMap,o}(),v=function(){var e=t/n,o=new r.PerspectiveCamera(60,e,1,1e4);return o.position.set(0,0,700),o.lookAt(new r.Vector3(0,100,0)),o}(),f=(function(){var e=new u(v,p.domElement);e.target=new r.Vector3(0,15,0),e.maxDistance=1e3}(),(0,a.default)()),h=(new r.CameraHelper(v),new c.default),m=new r.AudioListener,y=(new r.AudioLoader,new r.Audio(m),v.position),x=((new s.default).getGround(),new o.default),w=(x.getBlock(),new l.default),g=w.getConcern(),S=new i.default,P=S.instantiate(),b=S.getPos(),C=S.getSpeed(),_=S.getColor();S.targetPos();this.start=function(){console.log("start"),d.add(f),d.add(g),g.position.set(0,100,0),d.add(h.particleSystem),h.particleSystem.position.set(0,100,0),function(){for(var e=0;e<P.length;e++)d.add(P[e].getMunyu(b[e].x,b[e].y,b[e].z,_[e]))}()},this.update=function(){y=v.position;for(var e=0;e<P.length;e++)P[e].idle(C[e]),P[e].setCameraPos(y);x.update(),w.update(),h.update(),p.render(d,v)},this.onWindowResize=function(){n=window.innerHeight,t=window.innerWidth,e.innerWidth=t,e.innerHeight=n,v.aspect=t/n,v.updateProjectionMatrix(),p.setSize(t,n)},this.onMouseClick=function(){}};var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/three/build/three.module.js")),o=d(t("./js/Block.js")),i=d(t("./js/munyuGenerator.js")),a=d(t("./js/background.js")),s=(d(t("./assets/sounds/bgm.wav")),d(t("./js/environment.js"))),l=d(t("./js/Concern.js")),c=d(t("./js/ParticleGenerator.js"));function d(e){return e&&e.__esModule?e:{default:e}}var u=t("./node_modules/three-orbit-controls/index.js")(r)},"./js/background.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=new r.Object3D,n=new r.Mesh(new r.BoxGeometry(1e4,1e4,1e4),new r.ShaderMaterial({uniforms:{uColorA:{value:new r.Color(4942756)},uColorB:{value:new r.Color(1381928)}},vertexShader:o.default,fragmentShader:i.default,side:r.BackSide}));return e.add(n),e};var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/three/build/three.module.js")),o=a(t("./shaders/gradient.vert")),i=a(t("./shaders/gradient.frag"));function a(e){return e&&e.__esModule?e:{default:e}}},"./js/environment.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=new r.CircleGeometry(1e3,50),n=new r.MeshBasicMaterial({color:5474011,side:r.DoubleSide,transparent:!0,opacity:.5}),t=new r.Mesh(e,n);t.rotation.set(Math.PI/2,0,0),t.position.set(0,-7,0),this.getGround=function(){return t}};var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/three/build/three.module.js"))},"./js/index.js":function(e,n,t){"use strict";t("./style.scss");var r=function(e){return e&&e.__esModule?e:{default:e}}(t("./js/Scene.js"));e.hot.accept(),e.hot.dispose(function(){var e=document.querySelector("body"),n=e.cloneNode(!1);e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)});var o=document.createElement("canvas");o.id="canvas",document.getElementById("root").appendChild(o);var i=new r.default(o);function a(){o.style.width=window.innerWidth,o.style.height=window.innerHeight,i.onWindowResize()}function s(){i.onMouseClick()}window.onresize=a,window.onclick=s,a(),i.start(),function e(){requestAnimationFrame(e);i.update()}()},"./js/munyuGenerator.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=[],n=[],t=[],i=[],a=30,s=new r.Geometry,l=[12804689,12698449,5358494,5265604,10965188,8438864];function c(){for(var e=null,t=0;t<a;t++){for(var r=Math.floor(Math.random()*s.vertices.length-1+1);r===e;)r=Math.floor(Math.random()*s.vertices.length-1+1);n[t]=s.vertices[r],e=r}return n}(function(){for(var e={height:500,width:500,heightSeg:50,widthSeg:50,color:"black"},n=new r.LineBasicMaterial({color:e.color}),t=new r.Object3D,o=new r.Geometry,i=2*e.width/e.widthSeg,a=2*e.height/e.heightSeg,l=-e.width;l<=e.width;l+=i)o.vertices.push(new r.Vector3(-e.height,l,0)),o.vertices.push(new r.Vector3(e.height,l,0));for(var c=-e.height;c<=e.height;c+=a)o.vertices.push(new r.Vector3(c,-e.width,0)),o.vertices.push(new r.Vector3(c,e.width,0));var d=new r.LineSegments(o,n);t.add(d),t.rotation.x=Math.PI/2;for(var u=-e.width;u<=e.width;u+=i)for(var p=-e.height;p<=e.height;p+=a)s.vertices.push(new r.Vector3(u,-100,p))})(),c(),this.instantiate=function(){for(var n=0,r=0;r<a;r++){var s=new o.default;e.push(s),t.push(.005*Math.random()+.001),n>=l.length-1&&(n=0),i.push(l[n]),n++}return e},this.getPos=function(){return n},this.targetPos=function(){var e=c();return e},this.getSpeed=function(){return t},this.getColor=function(){return i}};var r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/three/build/three.module.js")),o=function(e){return e&&e.__esModule?e:{default:e}}(t("./js/Munyu.js"))},"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./style.scss":function(e,n,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"html {\n  font-family: 'Source Sans Pro', sans-serif; }\n\nbody {\n  margin: 0; }\n\n#root {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\np {\n  margin: 1.2em; }\n",""])},"./shaders/clouds.frag":function(e,n){e.exports="#define GLSLIFY 1\nuniform vec3 color;\nuniform vec3 rimColor;\nuniform float rimPower;\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\nvarying vec3 worldPos;\nvarying vec3 worldNormal;\n\nvoid main() {\n    float rim = clamp(dot(normalize(viewNormal), normalize(-viewPos)), 0.0, 1.0);\n    rim = pow(rim, rimPower);\n    gl_FragColor = vec4(rimColor, rim);\n}\n"},"./shaders/clouds.vert":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\nvarying vec3 worldPos;\nvarying vec3 worldNormal;\n\nuniform float scale;\nuniform float freq;\nuniform float time;\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  { \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\nvoid main()\n{\n    vec3 pos = position;\n    worldPos = (modelMatrix * vec4(position, 1.0)).xyz;\n    worldNormal = normalize(mat3(modelMatrix) * normal);\n    \n    float moveSpeedX = time * 0.5;\n    float moveSpeedY = time * 0.3;\n    float moveSpeedZ = time * 0.2;\n\n    float xs = scale * snoise(vec3(worldNormal.xy * freq, moveSpeedX));\n    float ys = scale * snoise(vec3(worldNormal.yz * freq, moveSpeedY));\n    float zs = scale * snoise(vec3(worldNormal.xz * freq, moveSpeedZ));\n\n    pos.x = pos.x + xs;\n    pos.y = pos.y + ys;\n    pos.z = pos.z + zs;\n    \n    vec4 viewPosition = modelViewMatrix * vec4( pos, 1.0 );\n    viewPos = viewPosition.xyz;\n    vec3 vNormal = normalize(normalMatrix * normal);\n    viewNormal = vNormal;\n   \n    worldNormal = normalize(mat3(modelMatrix) * normal);\n    gl_Position = projectionMatrix * viewPosition;\n}"},"./shaders/glow.frag":function(e,n){e.exports="#define GLSLIFY 1\nuniform vec3 rimColor;\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\n\nvoid main() {\n    // gl_FragColor = vec4(normalize(viewNormal) * 0.5 + 0.5, 1.0);\n    // gl_FragColor = vec4(normalize(viewPos) * 0.5 + 0.5, 1.0);\n    float rim = clamp(dot(normalize(viewNormal), normalize(-viewPos)), 0.0, 1.0);\n    rim = pow(rim, 3.0);\n    // rim = 1.0 - rim;\n    // vec3 color = mix(mainColor, rimColor, rim);\n    gl_FragColor = vec4(rimColor, rim);\n    // gl_FragColor = vec4(glow, 1.0);\n}\n"},"./shaders/glow.vert":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\n\nvoid main()\n{\n    vec4 viewPosition = modelViewMatrix * vec4( position, 1.0 );\n    viewPos = viewPosition.xyz;\n    vec3 vNormal = normalize(normalMatrix * normal);\n    viewNormal = vNormal;\n    gl_Position = projectionMatrix * viewPosition;\n}"},"./shaders/gradient.frag":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 localPosition;\nuniform vec3 uColorA;\nuniform vec3 uColorB;\n\nvoid main() {\n    gl_FragColor = vec4(\n        mix(uColorA, uColorB, clamp(normalize(localPosition).y * 0.5 + 0.5, 0., 1.)),\n        // vec3(fract(normalize(localPosition).y * 0.5 + 0.5)),\n        1.\n    );\n}"},"./shaders/gradient.vert":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 localPosition;\n\nvoid main() {\n    localPosition = position;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}"},"./shaders/shell.frag":function(e,n){e.exports="#define GLSLIFY 1\nuniform vec3 color;\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\nvarying vec3 worldNormal;\nvarying vec3 worldPos;\nvarying vec3 objectPos;\n\nuniform float height;\nuniform float time;\n\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  { \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nvoid main() {\n    float light = clamp(dot(normalize(vec3(0.0, 2.0, 0.0)), worldNormal), 0.0, 1.0);\n    vec3 ambient = vec3(0.1, 0.0, 0.1);\n    gl_FragColor = vec4(color * light + ambient * 0.1, 0.9);\n    // gl_FragColor = vec4(color * light, 1.0);\n    // gl_FragColor = vec4(glow, 1.0);\n}\n"},"./shaders/shell.vert":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec3 viewPos;\nvarying vec3 viewNormal;\nvarying vec3 worldNormal;\nvarying vec3 worldPos;\nvarying vec3 objectPos;\n\nuniform float height;\nuniform float time;\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  { \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nvoid main()\n{\n    vec3 pos = position;\n    objectPos = position;\n    float h = height + 10.0 * snoise(vec3(pos.xz * 0.02, time * 0.3));\n    pos.y = min(pos.y, h);\n    worldPos = (modelMatrix * vec4(pos, 1.0)).xyz;\n    vec4 viewPosition = modelViewMatrix * vec4( pos, 1.0 );\n    viewPos = viewPosition.xyz;\n    worldNormal = normalize(mat3(modelMatrix) * normal);\n    vec3 vNormal = normalize(normalMatrix * normal);\n    viewNormal = vNormal;\n    gl_Position = projectionMatrix * viewPosition;\n}"},"./style.scss":function(e,n,t){var r=t("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./style.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},i=t("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals),e.hot.accept("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./style.scss",function(){var n=t("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./style.scss");if("string"==typeof n&&(n=[[e.i,n,""]]),!function(e,n){var t,r=0;for(t in e){if(!n||e[t]!==n[t])return!1;r++}for(t in n)r--;return 0===r}(r.locals,n.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(n)}),e.hot.dispose(function(){i()})},0:function(e,n,t){e.exports=t("./js/index.js")}});
//# sourceMappingURL=bundle.js.map